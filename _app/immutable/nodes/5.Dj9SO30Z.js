import"../chunks/CWj6FrbW.js";import{p as T,ai as H,g as i,av as k,au as N,c as a,r,s as f,a as P,b as n,o as D,t as F,a9 as K}from"../chunks/noEr-yYt.js";import{s as y}from"../chunks/BpKweioY.js";import{i as L}from"../chunks/CCR0n5-Z.js";import{c as j,e as Q,i as R}from"../chunks/BGJtttKi.js";import{d as A,t as I,a as w,g as U}from"../chunks/NRAfEqDE.js";import{g as V}from"../chunks/CuzWv6eu.js";import{b as E}from"../chunks/DAUxKU5k.js";import{s as J}from"../chunks/CwxdIFov.js";import{A as W}from"../chunks/Cp1DMvZD.js";var X=I('<button class="bg-red-700 hover:bg-red-800 text-white px-3 py-1 rounded transition-colors"><img alt="Delete from Shopping cart" class="w-5 h-6"></button> <!>',1);function Y(x,s){T(s,!0);let e=k(void 0),o=k(!1),u,v;const m="The selected Item was deleted from your Cart";H(()=>{j.set(i(e))});function b(){u=(localStorage.getItem("user")?JSON.parse(t):[]).uniqueTag,v=`cart-${u}`;const t=localStorage.getItem(v);let d=t?JSON.parse(t):[];n(o,!1),d.splice(d.indexOf(s.card),1),n(e,d.length,!0),localStorage.setItem(v,JSON.stringify(d)),setTimeout(()=>n(o,!0),10)}var g=X(),p=N(g);p.__click=b;var _=a(p);J(_,"src",`${E??""}/images/bin.png`),r(p);var S=f(p,2);W(S,{get show(){return i(o)},message:m,color:"red"}),w(x,g),P()}A(["click"]);var Z=I('<div class="bg-white rounded-lg p-4 mb-4 relative max-w-150 mx-auto shadow"><div class="flex gap-4"><div class="w-24 h-24 flex-shrink-0 bg-white rounded-md overflow-hidden"><img class="w-full h-full object-contain"></div> <div class="flex-1 flex flex-col"><div class="flex-1"><h3 class="text-lg font-semibold text-gray-900 line-clamp-2"> </h3> <span class="text-[#800000] font-bold text-lg block"> </span></div></div> <div class="absolute bottom-4 right-4"><!></div></div></div>');function $(x,s){T(s,!0),D(()=>{(localStorage.getItem("user")?JSON.parse(h):[]).uniqueTag;const h=localStorage.getItem("cart-1");h&&JSON.parse(h)});var e=Z(),o=a(e),u=a(o),v=a(u);r(u);var m=f(u,2),b=a(m),g=a(b),p=a(g,!0);r(g);var _=f(g,2),S=a(_);r(_),r(b),r(m);var c=f(m,2),l=a(c);Y(l,{get card(){return s.card}}),r(c),r(o),r(e),F(t=>{J(v,"src",s.card.image),J(v,"alt",s.card.title),y(p,s.card.title),y(S,`$${t??""}`)},[()=>s.card.price.toFixed(2)]),w(x,e),P()}var tt=(x,s)=>s,et=I('<!> <div class="mt-6 pt-4 border-t border-gray-200 pb-20 max-w-170 mx-auto"><div class="flex justify-between items-center mb-4 max-w-170 mx-auto"><span class="text-gray-600"> </span> <span class="text-lg font-bold text-[#800000]"> </span></div> <button class="bg-[#800000] hover:bg-[#600000] text-white py-3 px-4 max-w-120 float-right rounded-md font-medium transition-colors">Proceed to Checkout</button></div>',1),at=()=>V(`${E}/startingPage`),rt=I('<div class="text-center mt-50 mx-auto"><div class="block"><h3 class="text-xl font-medium text-gray-600">No products in the shopping cart!</h3> <button class="mt-4 bg-[#800000] hover:bg-[#600000] text-white py-2 px-6 rounded-md font-medium transition-colors">Continue Shopping</button></div></div>');function gt(x,s){T(s,!0);let e=k(K([])),o=k(0),u=k(0),v,m;j.subscribe(c=>{const l=localStorage.getItem(m);n(e,l?JSON.parse(l):[],!0),n(o,0),n(u,i(e).length,!0),i(e).forEach(t=>{n(o,i(o)+t.price)})}),D(()=>{v=(localStorage.getItem("user")?JSON.parse(t):[]).uniqueTag,m=`cart-${v}`;const t=localStorage.getItem(m);n(e,t?JSON.parse(t):[],!0),n(o,0),n(u,i(e).length,!0),i(e).forEach(d=>{n(o,i(o)+d.price)})});function b(){localStorage.setItem(m,[]),alert("Thank you for purchasing!")}var g=U(),p=N(g);{var _=c=>{var l=et(),t=N(l);Q(t,17,()=>i(e),R,(O,G)=>{$(O,{get card(){return i(G)}})});var d=f(t,2),h=a(d),C=a(h),B=a(C);r(C);var q=f(C,2),M=a(q);r(q),r(h);var z=f(h,2);z.__click=[tt,b],r(d),F(O=>{y(B,`Subtotal (${i(u)??""} items):`),y(M,`$${O??""}`)},[()=>i(o).toFixed(2)]),w(c,l)},S=c=>{var l=rt(),t=a(l),d=f(a(t),2);d.__click=[at],r(t),r(l),w(c,l)};L(p,c=>{i(e).length>0?c(_):c(S,!1)})}w(x,g),P()}A(["click"]);export{gt as component};
