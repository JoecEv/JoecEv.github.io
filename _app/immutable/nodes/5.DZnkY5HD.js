import"../chunks/CWj6FrbW.js";import{p as T,ai as H,g as i,av as w,au as N,c as r,r as o,s as f,a as P,b as n,o as D,t as F,a9 as K}from"../chunks/noEr-yYt.js";import{s as y}from"../chunks/BpKweioY.js";import{i as L}from"../chunks/CCR0n5-Z.js";import{c as j,e as Q,i as R}from"../chunks/C6E8-HJ8.js";import{d as A,t as I,a as k,g as U}from"../chunks/NRAfEqDE.js";import{g as V}from"../chunks/COarWee2.js";import{b as E}from"../chunks/CtDe0qSZ.js";import{s as J}from"../chunks/CwxdIFov.js";import{A as W}from"../chunks/Cp1DMvZD.js";var X=I('<button class="bg-red-700 hover:bg-red-800 text-white px-3 py-1 rounded transition-colors"><img alt="Delete from Shopping cart" class="w-5 h-6"></button> <!>',1);function Y(x,s){T(s,!0);let e=w(void 0),a=w(!1),d,v;const u="The selected Item was deleted from your Cart";H(()=>{j.set(i(e))});function b(){d=(localStorage.getItem("user")?JSON.parse(t):[]).uniqueTag,v=`cart-${d}`;const t=localStorage.getItem(v);let m=t?JSON.parse(t):[];n(a,!1),m.splice(m.indexOf(s.card),1),n(e,m.length,!0),localStorage.setItem(v,JSON.stringify(m)),setTimeout(()=>n(a,!0),10)}var g=X(),p=N(g);p.__click=b;var _=r(p);J(_,"src",`${E??""}/images/bin.png`),o(p);var S=f(p,2);W(S,{get show(){return i(a)},message:u,color:"red"}),k(x,g),P()}A(["click"]);var Z=I('<div class="bg-white rounded-lg p-4 mb-4 relative max-w-150 mx-auto shadow"><div class="flex gap-4"><div class="w-24 h-24 flex-shrink-0 bg-white rounded-md overflow-hidden"><img class="w-full h-full object-contain"></div> <div class="flex-1 flex flex-col"><div class="flex-1"><h3 class="text-lg font-semibold text-gray-900 line-clamp-2"> </h3> <span class="text-[#800000] font-bold text-lg block"> </span></div></div> <div class="absolute bottom-4 right-4"><!></div></div></div>');function $(x,s){T(s,!0),D(()=>{(localStorage.getItem("user")?JSON.parse(h):[]).uniqueTag;const h=localStorage.getItem("cart-1");h&&JSON.parse(h)});var e=Z(),a=r(e),d=r(a),v=r(d);o(d);var u=f(d,2),b=r(u),g=r(b),p=r(g,!0);o(g);var _=f(g,2),S=r(_);o(_),o(b),o(u);var c=f(u,2),l=r(c);Y(l,{get card(){return s.card}}),o(c),o(a),o(e),F(t=>{J(v,"src",s.card.image),J(v,"alt",s.card.title),y(p,s.card.title),y(S,`$${t??""}`)},[()=>s.card.price.toFixed(2)]),k(x,e),P()}var tt=(x,s)=>s,et=I('<!> <div class="mt-6 pt-4 border-t border-gray-200 mb-20 max-w-170 mx-auto"><div class="flex justify-between items-center mb-4 max-w-170 mx-auto"><span class="text-gray-600"> </span> <span class="text-lg font-bold text-[#800000]"> </span></div> <button class="bg-[#800000] hover:bg-[#600000] text-white py-3 px-4 max-w-120 float-right rounded-md font-medium transition-colors">Proceed to Checkout</button></div>',1),at=()=>V(`${E}/startingPage`),rt=I('<div class="text-center py-10"><h3 class="text-xl font-medium text-gray-600">No products in the shopping cart!</h3> <button class="mt-4 bg-[#800000] hover:bg-[#600000] text-white py-2 px-6 rounded-md font-medium transition-colors">Continue Shopping</button></div>');function gt(x,s){T(s,!0);let e=w(K([])),a=w(0),d=w(0),v,u;j.subscribe(c=>{const l=localStorage.getItem(u);n(e,l?JSON.parse(l):[],!0),n(a,0),n(d,i(e).length,!0),i(e).forEach(t=>{n(a,i(a)+t.price)})}),D(()=>{v=(localStorage.getItem("user")?JSON.parse(t):[]).uniqueTag,u=`cart-${v}`;const t=localStorage.getItem(u);n(e,t?JSON.parse(t):[],!0),n(a,0),n(d,i(e).length,!0),i(e).forEach(m=>{n(a,i(a)+m.price)})});function b(){localStorage.setItem(u,[]),alert("Thank you for purchasing!")}var g=U(),p=N(g);{var _=c=>{var l=et(),t=N(l);Q(t,17,()=>i(e),R,(O,G)=>{$(O,{get card(){return i(G)}})});var m=f(t,2),h=r(m),C=r(h),B=r(C);o(C);var q=f(C,2),M=r(q);o(q),o(h);var z=f(h,2);z.__click=[tt,b],o(m),F(O=>{y(B,`Subtotal (${i(d)??""} items):`),y(M,`$${O??""}`)},[()=>i(a).toFixed(2)]),k(c,l)},S=c=>{var l=rt(),t=f(r(l),2);t.__click=[at],o(l),k(c,l)};L(p,c=>{i(e).length>0?c(_):c(S,!1)})}k(x,g),P()}A(["click"]);export{gt as component};
